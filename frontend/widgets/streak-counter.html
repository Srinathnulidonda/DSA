<div class="streak-counter-widget">
    <div class="streak-counter-header">
        <h6 class="widget-title">Study Streak</h6>
        <i class="bi bi-fire streak-icon {{#if isActive}}active{{/if}}"></i>
    </div>

    <div class="streak-counter-display">
        <div class="streak-number">{{currentStreak}}</div>
        <div class="streak-label">days</div>
    </div>

    <div class="streak-counter-details">
        <div class="streak-stat">
            <span class="streak-stat-label">Longest:</span>
            <span class="streak-stat-value">{{longestStreak}} days</span>
        </div>
        {{#if lastStudyDate}}
        <div class="streak-stat">
            <span class="streak-stat-label">Last study:</span>
            <span class="streak-stat-value">{{lastStudyDate}}</span>
        </div>
        {{/if}}
    </div>

    {{#if showMotivation}}
    <div class="streak-motivation">
        <p class="text-center text-muted small mb-0">{{motivationMessage}}</p>
    </div>
    {{/if}}
</div>

<style>
    .streak-counter-widget {
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        color: white;
        padding: 1.5rem;
        border-radius: var(--radius-lg);
        text-align: center;
    }

    .streak-counter-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
    }

    .streak-icon {
        font-size: 1.5rem;
        opacity: 0.7;
        transition: all var(--transition-base);
    }

    .streak-icon.active {
        opacity: 1;
        animation: fire 1s ease-in-out infinite alternate;
    }

    .streak-number {
        font-size: 3rem;
        font-weight: 700;
        line-height: 1;
        margin-bottom: 0.25rem;
    }

    .streak-label {
        font-size: 0.875rem;
        opacity: 0.9;
    }

    .streak-counter-details {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .streak-stat {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
    }

    .streak-stat:last-child {
        margin-bottom: 0;
    }

    .streak-motivation {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    @keyframes fire {
        0% {
            transform: scale(1) rotate(-1deg);
        }

        100% {
            transform: scale(1.1) rotate(1deg);
        }
    }
</style>